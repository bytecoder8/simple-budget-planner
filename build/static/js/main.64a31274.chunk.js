(this["webpackJsonpsimple-budget-planner"]=this["webpackJsonpsimple-budget-planner"]||[]).push([[0],{16:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(7),r=n.n(a),l=(n(14),n(3)),i=n(2),o=n(9),j=n(18),d="simple-budget-planner",b=function(e){return e.reduce((function(e,t){return e+t.cost}),0)},u=n(0),m={budget:2e3,expenses:[{id:"1",name:"Shopping",cost:50},{id:"2",name:"Holiday",cost:300},{id:"3",name:"Transportaion",cost:70},{id:"4",name:"Fuel",cost:40},{id:"5",name:"Child Care",cost:500}]},p=function(e,t){switch(t.type){case"ADD_EXPENSE":return t.payload.id=Object(j.a)(),Object(l.a)(Object(l.a)({},e),{},{expenses:[].concat(Object(o.a)(e.expenses),[t.payload])});case"DELETE_EXPENSE":return Object(l.a)(Object(l.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==t.payload}))});case"CHANGE_BUDGET":return Object(l.a)(Object(l.a)({},e),{},{budget:t.payload});default:return e}},O=Object(c.createContext)(),x=function(e){return function(e,t){try{var n=localStorage.getItem(e);return n?JSON.parse(n):t}catch(c){return console.error(c),t}}(d,e)},h=function(e){var t=Object(c.useReducer)(p,m,x),n=Object(i.a)(t,2),s=n[0],a=n[1];return Object(c.useEffect)((function(){!function(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(n){console.error(n)}}(d,s)}),[s]),Object(u.jsx)(O.Provider,{value:{budget:s.budget,expenses:s.expenses,dispatch:a},children:e.children})},f=n(8);function v(e){var t=e.id,n=e.name,c=e.cost,s=e.onDelete;return Object(u.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[n,Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{className:"badge badge-primary badge-pill mr-3",children:["$",c]}),Object(u.jsx)(f.a,{size:"1.5em",onClick:function(){return s(t)}})]})]})}function g(){var e=Object(c.useContext)(O),t=e.expenses,n=e.dispatch,s=Object(c.useState)(""),a=Object(i.a)(s,2),r=a[0],o=a[1],j=function(e){n({type:"DELETE_EXPENSE",payload:e})},d=t;return r.trim()&&(d=t.filter((function(e){return e.name.toLowerCase().includes(r.trim().toLowerCase())}))),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",{type:"text",name:"search",placeholder:"Type to search...",className:"form-control mb-3",value:r,onChange:function(e){o(e.target.value)}}),d.length>0?Object(u.jsx)("ul",{className:"list-group",children:d.map((function(e){return Object(u.jsx)(v,Object(l.a)(Object(l.a)({},e),{},{onDelete:j}),e.id)}))}):Object(u.jsx)("div",{className:"alert alert-primary",children:"Nothing found"})]})}function N(e){var t=e.budget,n=e.handleSave,s=e.handleCancel,a=Object(c.useState)(t),r=Object(i.a)(a,2),l=r[0],o=r[1],j=Object(c.useState)(!1),d=Object(i.a)(j,2),b=d[0],m=d[1];return Object(u.jsxs)("form",{className:"alert alert-secondary d-flex justify-content-between align-items-center",style:{minHeight:"74px"},children:[Object(u.jsx)("input",{type:"text",name:"budget",placeholder:"Enter new budget",className:"form-control",style:{minWidth:0},value:l,onChange:function(e){var t=parseInt(e.target.value,10);isNaN(t)?(t="",m(!0)):m(!1),o(t)}}),Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)("button",{type:"submit",className:"btn btn-primary btn-small mr-1",onClick:function(e){e.preventDefault(),n(l)},disabled:b,children:"Save"}),Object(u.jsx)("button",{type:"button",className:"btn btn-secondary btn-small",onClick:function(e){e.preventDefault(),s()},children:"Cancel"})]})]})}function y(){var e=Object(c.useContext)(O),t=e.budget,n=e.dispatch,s=Object(c.useState)(!1),a=Object(i.a)(s,2),r=a[0],l=a[1];return Object(u.jsx)(u.Fragment,{children:r?Object(u.jsx)(N,{budget:t,handleSave:function(e){n({type:"CHANGE_BUDGET",payload:parseInt(e,10)}),l(!1)},handleCancel:function(){l(!1)}}):Object(u.jsxs)("div",{className:"alert alert-secondary d-flex justify-content-between align-items-center",style:{minHeight:"74px"},children:[Object(u.jsxs)("div",{children:["Budget: $",t]}),Object(u.jsx)("button",{className:"btn btn-primary btn-small",onClick:function(){l((function(e){return!e}))},children:"Edit"})]})})}function E(){var e=Object(c.useContext)(O),t=e.expenses,n=function(e,t){return e-b(t)}(e.budget,t),s=n>0?"alert-success":"alert-danger";return Object(u.jsx)("div",{className:"alert p-4 ".concat(s),children:Object(u.jsxs)("span",{children:["Remaining: $",n]})})}function C(){var e=Object(c.useContext)(O).expenses,t=b(e);return Object(u.jsx)("div",{className:"alert alert-primary p-4",children:Object(u.jsxs)("span",{children:["Spent so far: $",t]})})}function S(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(i.a)(a,2),l=r[0],o=r[1],j=Object(c.useState)(""),d=Object(i.a)(j,2),b=d[0],m=d[1],p=Object(c.useContext)(O).dispatch;return Object(u.jsx)("div",{className:"row",children:Object(u.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t="";""===n.trim()?t="Please enter the expense's name":(""===l.trim()||isNaN(parseInt(l,10)))&&(t="Please enter a valid number for cost"),t?m(t):(p({type:"ADD_EXPENSE",payload:{name:n,cost:parseInt(l,10)}}),s(""),o(""),m(""))},className:"col-md-7",children:[b&&Object(u.jsx)("div",{className:"alert alert-danger",children:b}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"expense-form-name",children:"Name"}),Object(u.jsx)("input",{type:"text",name:"name",id:"expense-form-name",className:"form-control",value:n,onChange:function(e){return s(e.target.value)}})]}),Object(u.jsxs)("div",{className:"form-group",children:[Object(u.jsx)("label",{htmlFor:"expense-form-cost",children:"Cost"}),Object(u.jsx)("input",{type:"text",name:"cost",id:"expense-form-cost",className:"form-control",value:l,onChange:function(e){return o(e.target.value)}})]}),Object(u.jsx)("div",{className:"form-group",children:Object(u.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})})}var w=function(){return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{className:"mt-3",children:"Simple Budget Planner"}),Object(u.jsxs)("div",{className:"row mt-3",children:[Object(u.jsx)("div",{className:"col col-xl col-md-12",children:Object(u.jsx)(y,{})}),Object(u.jsx)("div",{className:"col-md",children:Object(u.jsx)(E,{})}),Object(u.jsx)("div",{className:"col-md",children:Object(u.jsx)(C,{})})]}),Object(u.jsx)("h3",{className:"mt-3",children:"Expenses"}),Object(u.jsx)("div",{className:"row mt-3",children:Object(u.jsx)("div",{className:"col-sm",children:Object(u.jsx)(g,{})})}),Object(u.jsx)("h3",{className:"mt-3",children:"Add Expense"}),Object(u.jsx)("div",{className:"row mt-3",children:Object(u.jsx)("div",{className:"col-sm",children:Object(u.jsx)(S,{})})})]})};r.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(h,{children:Object(u.jsx)(w,{})})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.64a31274.chunk.js.map